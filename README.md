Реализовать простой индекс для блокчейна на базе Substrate с использованием polkadot-js.

Сервис подключается к сети1, слушает финализированные блоки2 и для каждого из них сохраняет баланс аккаунта из списка отслеживаемых.
Для каждого блока можно получить ассоциированное с ним состояние сети3, из которого можно получить баланс аккаунта.
Балансы хранится в оперативной памяти и вычисляются заново после перезапуска сервиса. Список адресов и история блоков (block_no => block_hash) должны сохраняться на диск.

Реализовать возможность работы нескольких подключений, каждое к отдельной rpc-ноде (~= несколько подключений к одной ноде). Сервис слушает блоки только с одной ноды, но умеет запрашивать балансы с любой другой. Время ответа ноды на запрос не гарантировано и возможна ситуация, где первый запрос из очереди не успевает завершиться раньше следующего за ним.

GET /api/balances/:address/:block_no:
Возвращает баланс для аккаунта address в момент блока номер block_no (можно запрашивать любой номер блока в промежутках между обновлениями).
404 если адрес не находится в списке отслеживаемых.
202 если для запрашиваемого адреса данные не проиндексированы в данный момент.

POST /api/balances/:address:
Добавляет аккаунт address в список отслеживаемых адресов.